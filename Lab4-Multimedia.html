<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>p5.js MediaElement and Image Example</title>
    <script src="p5.js"></script>
  </head>
  <body>
    <script>
      let capture; // p5.MediaElement
      let img;     // p5.Image loaded using createImg

      function setup() {
        noCanvas();

        // Create webcam capture (p5.MediaElement)
        capture = createCapture(VIDEO);
        capture.size(320, 240);
        capture.position(20, 20);

        function takeSnapshot() {
        // Create a temporary canvas to draw the current frame
        let tempCanvas = createGraphics(320, 240);
        tempCanvas.image(capture, 0, 0, 320, 240);

        // Convert canvas to base64 image
        let dataURL = tempCanvas.elt.toDataURL();

        // Create an HTML image element from the snapshot
        let img = createImg(dataURL, 'Snapshot');
        img.size(160, 120);
        img.position(360, 20);
      }
      }
    </script>
  </body>
</html>